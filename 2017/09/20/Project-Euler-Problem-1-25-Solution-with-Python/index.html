<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="python,projectEuler," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta name="description" content="1.Mutiples of 3 and 5 If we list all the natural numbers below 10 that are multiples of 3 or 5, we get 3, 5, 6 and 9. The sum of these multiples is 23. Find the sum of all the multiples of 3 or 5 bel">
<meta name="keywords" content="python,projectEuler">
<meta property="og:type" content="article">
<meta property="og:title" content="Project Euler Problem 1-25 Solution with Python">
<meta property="og:url" content="http://yoursite.com/2017/09/20/Project-Euler-Problem-1-25-Solution-with-Python/index.html">
<meta property="og:site_name" content="Naive Note">
<meta property="og:description" content="1.Mutiples of 3 and 5 If we list all the natural numbers below 10 that are multiples of 3 or 5, we get 3, 5, 6 and 9. The sum of these multiples is 23. Find the sum of all the multiples of 3 or 5 bel">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://raw.githubusercontent.com/ppia/img/master/EulerProblem11-Example1.png">
<meta property="og:image" content="https://raw.githubusercontent.com/ppia/img/master/EulerProblem11-Example2.png">
<meta property="og:image" content="https://projecteuler.net/project/images/p015.gif">
<meta property="og:image" content="https://wikimedia.org/api/rest_v1/media/math/render/svg/539d59f4fcd74c9db089d7ed0063f7ae3e7237b0">
<meta property="og:updated_time" content="2017-09-20T09:41:03.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Project Euler Problem 1-25 Solution with Python">
<meta name="twitter:description" content="1.Mutiples of 3 and 5 If we list all the natural numbers below 10 that are multiples of 3 or 5, we get 3, 5, 6 and 9. The sum of these multiples is 23. Find the sum of all the multiples of 3 or 5 bel">
<meta name="twitter:image" content="https://raw.githubusercontent.com/ppia/img/master/EulerProblem11-Example1.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.2',
    sidebar: {"position":"right","display":"hide","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":true,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2017/09/20/Project-Euler-Problem-1-25-Solution-with-Python/"/>





  <title>Project Euler Problem 1-25 Solution with Python | Naive Note</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-right page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Naive Note</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/09/20/Project-Euler-Problem-1-25-Solution-with-Python/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="pia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Naive Note">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Project Euler Problem 1-25 Solution with Python</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-09-20T17:07:02+08:00">
                2017-09-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithm-and-Computer-Science/" itemprop="url" rel="index">
                    <span itemprop="name">Algorithm and Computer Science</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <a id="more"></a>
<h2 id="1-Mutiples-of-3-and-5"><a href="#1-Mutiples-of-3-and-5" class="headerlink" title="1.Mutiples of 3 and 5"></a>1.<a href="https://projecteuler.net/problem=1" target="_blank" rel="external">Mutiples of 3 and 5</a></h2><blockquote>
<p>If we list all the natural numbers below 10 that are multiples of 3 or 5, we get 3, 5, 6 and 9. The sum of these multiples is 23.</p>
<p>Find the sum of all the multiples of 3 or 5 below 1000.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">print(sum([num <span class="keyword">for</span> num <span class="keyword">in</span> range(<span class="number">1000</span>) <span class="keyword">if</span> num % <span class="number">3</span> == <span class="number">0</span> <span class="keyword">or</span> num % <span class="number">5</span> == <span class="number">0</span>]))</div></pre></td></tr></table></figure>
<h2 id="2-Even-Fibonacci-numbers"><a href="#2-Even-Fibonacci-numbers" class="headerlink" title="2.Even Fibonacci numbers"></a>2.<a href="https://projecteuler.net/problem=2" target="_blank" rel="external">Even Fibonacci numbers</a></h2><blockquote>
<p>Each new term in the Fibonacci sequence is generated by adding the previous two terms. By starting with 1 and 2, the first 10 terms will be:</p>
<p>1, 2, 3, 5, 8, 13, 21, 34, 55, 89, …</p>
<p>By considering the terms in the Fibonacci sequence whose values do not exceed four million, find the sum of the even-valued terms.</p>
</blockquote>
<p>分析：求400万以内斐波那契数列，再对偶数部分求和。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">fibs</span><span class="params">(maxValue, a=<span class="number">1</span>, b=<span class="number">2</span>)</span>:</span></div><div class="line">    fib = [a, b]</div><div class="line">    <span class="keyword">while</span> <span class="keyword">True</span>:</div><div class="line">        a, b = b, a + b</div><div class="line">        <span class="keyword">if</span> b &lt;= maxValue:</div><div class="line">            fib.append(b)</div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            <span class="keyword">return</span> fib</div><div class="line"></div><div class="line"></div><div class="line">print(sum([x <span class="keyword">for</span> x <span class="keyword">in</span> fibs(<span class="number">4000000</span>) <span class="keyword">if</span> x % <span class="number">2</span> == <span class="number">0</span>]))</div></pre></td></tr></table></figure>
<h2 id="3-Largest-prime-factor"><a href="#3-Largest-prime-factor" class="headerlink" title="3.Largest prime factor"></a>3.<a href="https://projecteuler.net/problem=3" target="_blank" rel="external">Largest prime factor</a></h2><blockquote>
<p>The prime factors of 13195 are 5, 7, 13 and 29.</p>
<p>What is the largest prime factor of the number 600851475143 ?</p>
</blockquote>
<p>分析：短除法</p>
<p><a href="https://stackoverflow.com/questions/23287/largest-prime-factor-of-a-number" target="_blank" rel="external">Largest prime factor of a number
</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">max_prime_factor</span><span class="params">(n)</span>:</span></div><div class="line">    result = <span class="number">0</span></div><div class="line">    d = <span class="number">2</span></div><div class="line">    <span class="keyword">while</span> n &gt; <span class="number">1</span>:</div><div class="line">        <span class="keyword">while</span> n % d == <span class="number">0</span>:</div><div class="line">            result = d</div><div class="line">            n /= d</div><div class="line">        d += <span class="number">1</span></div><div class="line">    <span class="keyword">return</span> result</div><div class="line"></div><div class="line"></div><div class="line">print(max_prime_factor(<span class="number">600851475143</span>))</div></pre></td></tr></table></figure>
<h2 id="4-Largest-palindrome-product"><a href="#4-Largest-palindrome-product" class="headerlink" title="4.Largest palindrome product"></a>4.<a href="https://projecteuler.net/problem=4" target="_blank" rel="external">Largest palindrome product</a></h2><blockquote>
<p>A palindromic number reads the same both ways. The largest palindrome made from the product of two 2-digit numbers is 9009 = 91 × 99.</p>
<p>Find the largest palindrome made from the product of two 3-digit numbers.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">r = range(<span class="number">999</span>, <span class="number">99</span>, <span class="number">-1</span>)</div><div class="line">is_palindome = <span class="keyword">lambda</span> x: str(x) == str(x)[::<span class="number">-1</span>]</div><div class="line">print(max([i * j <span class="keyword">for</span> i <span class="keyword">in</span> r <span class="keyword">for</span> j <span class="keyword">in</span> r <span class="keyword">if</span> is_palindome(i * j)]))</div></pre></td></tr></table></figure>
<h2 id="5-Smallest-multiple"><a href="#5-Smallest-multiple" class="headerlink" title="5.Smallest multiple"></a>5.<a href="https://projecteuler.net/problem=5" target="_blank" rel="external">Smallest multiple</a></h2><blockquote>
<p>2520 is the smallest number that can be divided by each of the numbers from 1 to 10 without any remainder.</p>
<p>What is the smallest positive number that is evenly divisible by all of the numbers from 1 to 20?</p>
</blockquote>
<p>分析：求n个数的最小公倍数，穷举计算量太大。先用辗转相除法求最大公约数gcd，再用<code>lcm(a,b)=a*b/gcd(a,b)</code>两两求最大公倍数。</p>
<p>ps.这里用<code>reduce()</code>方便些，此外python内置了gcd函数<code>from fractions import gcd</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">gcd</span><span class="params">(a, b)</span>:</span></div><div class="line">    <span class="keyword">if</span> b == <span class="number">0</span>:</div><div class="line">        <span class="keyword">return</span> a</div><div class="line">    <span class="keyword">return</span> gcd(b, a % b)</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">smallest_multiple</span><span class="params">(n)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lcm</span><span class="params">(a, b)</span>:</span></div><div class="line">        <span class="keyword">return</span> a * b / gcd(a, b)</div><div class="line"></div><div class="line">    <span class="keyword">return</span> reduce(lcm, range(<span class="number">1</span>, <span class="number">21</span>))</div><div class="line"></div><div class="line"></div><div class="line">print(smallest_multiple(<span class="number">20</span>))</div></pre></td></tr></table></figure>
<h2 id="6-Sum-square-difference"><a href="#6-Sum-square-difference" class="headerlink" title="6.Sum square difference"></a>6.<a href="https://projecteuler.net/problem=6" target="_blank" rel="external">Sum square difference</a></h2><blockquote>
<p>The sum of the squares of the first ten natural numbers is,</p>
<p>1<sup>2</sup> + 2<sup>2</sup> + … + 10<sup>2</sup> = 385</p>
<p>The square of the sum of the first ten natural numbers is,</p>
<p>(1 + 2 + … + 10)<sup>2</sup> = 55<sup>2</sup> = 3025</p>
<p>Hence the difference between the sum of the squares of the first ten natural numbers and the square of the sum is 3025 − 385 = 2640.</p>
<p>Find the difference between the sum of the squares of the first one hundred natural numbers and the square of the sum.</p>
</blockquote>
<p>分析：计算量不大，直接求</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum_of_squares</span><span class="params">(n)</span>:</span></div><div class="line">    <span class="keyword">return</span> sum([x ** <span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">1</span>, n + <span class="number">1</span>)])</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">square_of_sum</span><span class="params">(n)</span>:</span></div><div class="line">    <span class="keyword">return</span> sum(range(<span class="number">1</span>, n + <span class="number">1</span>)) ** <span class="number">2</span></div><div class="line"></div><div class="line"></div><div class="line">print(square_of_sum(<span class="number">100</span>) - sum_of_squares(<span class="number">100</span>))</div></pre></td></tr></table></figure>
<h2 id="7-10001st-prime"><a href="#7-10001st-prime" class="headerlink" title="7.10001st prime"></a>7.<a href="https://projecteuler.net/problem=7" target="_blank" rel="external">10001st prime</a></h2><blockquote>
<p>By listing the first six prime numbers: 2, 3, 5, 7, 11, and 13, we can see that the 6th prime is 13.</p>
<p>What is the 10 001st prime number?</p>
</blockquote>
<p>分析：根据素数定理<code>N=π(N)log(N)</code>，第10001个质数大约在92113左右，为消除误差范围扩大15%，用筛法算105930以内的质数。104743</p>
<p><code>TODO</code> 算得比较慢，以后改进</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 低速版</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">not_divisible</span><span class="params">(n)</span>:</span></div><div class="line">    <span class="keyword">return</span> <span class="keyword">lambda</span> x: x % n &gt; <span class="number">0</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">odd_list</span><span class="params">()</span>:</span></div><div class="line">    n = <span class="number">1</span></div><div class="line">    <span class="keyword">while</span> <span class="keyword">True</span>:</div><div class="line">        n += <span class="number">2</span></div><div class="line">        <span class="keyword">yield</span> n</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">primes</span><span class="params">(end_num)</span>:</span></div><div class="line">    li = odd_list()</div><div class="line">    <span class="keyword">yield</span> <span class="number">2</span></div><div class="line">    <span class="keyword">while</span> <span class="keyword">True</span>:</div><div class="line">        n = next(li)</div><div class="line">        <span class="keyword">if</span> n &gt; end_num:</div><div class="line">            <span class="keyword">break</span></div><div class="line">        <span class="keyword">yield</span> n</div><div class="line">        li = filter(not_divisible(n), li)</div><div class="line"></div><div class="line"></div><div class="line">print(list(primes(<span class="number">105930</span>))[<span class="number">10000</span>])</div></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 改进版1</span></div><div class="line"><span class="keyword">from</span> math <span class="keyword">import</span> sqrt</div><div class="line"></div><div class="line">n = <span class="number">105930</span></div><div class="line">p = [<span class="keyword">True</span>] * (n + <span class="number">1</span>)</div><div class="line">p[<span class="number">0</span>], p[<span class="number">1</span>] = <span class="keyword">False</span>, <span class="keyword">False</span></div><div class="line">index = <span class="number">0</span></div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>, int(sqrt(n) + <span class="number">1</span>)):</div><div class="line">    <span class="keyword">if</span> <span class="keyword">not</span> p[i]:</div><div class="line">        <span class="keyword">continue</span></div><div class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(i * <span class="number">2</span>, n + <span class="number">1</span>, i):</div><div class="line">        p[j] = <span class="keyword">False</span></div><div class="line">primes = [x <span class="keyword">for</span> x <span class="keyword">in</span> range(n + <span class="number">1</span>) <span class="keyword">if</span> p[x]]</div><div class="line"></div><div class="line">index = <span class="number">0</span></div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">105930</span>):</div><div class="line">    <span class="keyword">if</span> p[i]:</div><div class="line">        index += <span class="number">1</span></div><div class="line">        <span class="keyword">if</span> index == <span class="number">10001</span>:</div><div class="line">            print(i)</div></pre></td></tr></table></figure>
<h2 id="8-Largest-product-in-a-series"><a href="#8-Largest-product-in-a-series" class="headerlink" title="8.Largest product in a series"></a>8.<a href="https://projecteuler.net/problem=8" target="_blank" rel="external">Largest product in a series</a></h2><blockquote>
<p>The four adjacent digits in the 1000-digit number that have the greatest product are 9 × 9 × 8 × 9 = 5832.</p>
<p>73167176531330624919225119674426574742355349194934<br>96983520312774506326239578318016984801869478851843<br>85861560789112949495459501737958331952853208805511<br>12540698747158523863050715693290963295227443043557<br>66896648950445244523161731856403098711121722383113<br>62229893423380308135336276614282806444486645238749<br>30358907296290491560440772390713810515859307960866<br>70172427121883998797908792274921901699720888093776<br>65727333001053367881220235421809751254540594752243<br>52584907711670556013604839586446706324415722155397<br>53697817977846174064955149290862569321978468622482<br>83972241375657056057490261407972968652414535100474<br>82166370484403199890008895243450658541227588666881<br>16427171479924442928230863465674813919123162824586<br>17866458359124566529476545682848912883142607690042<br>24219022671055626321111109370544217506941658960408<br>07198403850962455444362981230987879927244284909188<br>84580156166097919133875499200524063689912560717606<br>05886116467109405077541002256983155200055935729725<br>71636269561882670428252483600823257530420752963450</p>
<p>Find the thirteen adjacent digits in the 1000-digit number that have the greatest product. What is the value of this product?</p>
</blockquote>
<p>分析：计算连续13个数最大乘积，注意把str转为int。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</div><div class="line"></div><div class="line">series = <span class="string">'73167176531330624919225119674426574742355349194934'</span> \</div><div class="line">         <span class="string">'96983520312774506326239578318016984801869478851843'</span> \</div><div class="line">         <span class="string">'85861560789112949495459501737958331952853208805511'</span> \</div><div class="line">         <span class="string">'12540698747158523863050715693290963295227443043557'</span> \</div><div class="line">         <span class="string">'66896648950445244523161731856403098711121722383113'</span> \</div><div class="line">         <span class="string">'62229893423380308135336276614282806444486645238749'</span> \</div><div class="line">         <span class="string">'30358907296290491560440772390713810515859307960866'</span> \</div><div class="line">         <span class="string">'70172427121883998797908792274921901699720888093776'</span> \</div><div class="line">         <span class="string">'65727333001053367881220235421809751254540594752243'</span> \</div><div class="line">         <span class="string">'52584907711670556013604839586446706324415722155397'</span> \</div><div class="line">         <span class="string">'53697817977846174064955149290862569321978468622482'</span> \</div><div class="line">         <span class="string">'83972241375657056057490261407972968652414535100474'</span> \</div><div class="line">         <span class="string">'82166370484403199890008895243450658541227588666881'</span> \</div><div class="line">         <span class="string">'16427171479924442928230863465674813919123162824586'</span> \</div><div class="line">         <span class="string">'17866458359124566529476545682848912883142607690042'</span> \</div><div class="line">         <span class="string">'24219022671055626321111109370544217506941658960408'</span> \</div><div class="line">         <span class="string">'07198403850962455444362981230987879927244284909188'</span> \</div><div class="line">         <span class="string">'84580156166097919133875499200524063689912560717606'</span> \</div><div class="line">         <span class="string">'05886116467109405077541002256983155200055935729725'</span> \</div><div class="line">         <span class="string">'71636269561882670428252483600823257530420752963450'</span></div><div class="line">product_list = []</div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1000</span> - <span class="number">13</span>):</div><div class="line">    sub = [int(x) <span class="keyword">for</span> x <span class="keyword">in</span> series[i:i + <span class="number">13</span>]]</div><div class="line">    product = reduce(<span class="keyword">lambda</span> x, y: x * y, sub)</div><div class="line">    product_list.append(product)</div><div class="line">print(max(product_list))</div></pre></td></tr></table></figure>
<h2 id="9-Special-Pythagorean-triplet"><a href="#9-Special-Pythagorean-triplet" class="headerlink" title="9.Special Pythagorean triplet"></a>9.<a href="https://projecteuler.net/problem=9" target="_blank" rel="external">Special Pythagorean triplet</a></h2><blockquote>
<p>A Pythagorean triplet is a set of three natural numbers, a &lt; b &lt; c, for which,</p>
<p>a^2 + b^2 = c^2</p>
<p>For example, 3^2 + 4^2 = 9 + 16 = 25 = 52.</p>
<p>There exists exactly one Pythagorean triplet for which a + b + c = 1000.</p>
<p>Find the product abc.</p>
</blockquote>
<p><strong>分析：</strong></p>
<ol>
<li>根据a、b、c关系列方程，化简得<code>b^2+bc+5000=1000(b+c)</code>，再用循环一个个试；</li>
<li>abc看成直角三角形的三条边，设<code>a=m^2-n^2</code>,<code>b=2mn</code>,<code>m^2+n^2</code>,化简得<code>m(m+n)=500</code>。看出m是500因数，且m&lt;√500=22.36。从22开始递减尝试。</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 解法一</span></div><div class="line"><span class="keyword">for</span> c <span class="keyword">in</span> range(<span class="number">1001</span>):</div><div class="line">    <span class="keyword">for</span> b <span class="keyword">in</span> range(c):</div><div class="line">        left = b ** <span class="number">2</span> + b * c + <span class="number">500000</span></div><div class="line">        right = <span class="number">1000</span> * (b + c)</div><div class="line">        a = <span class="number">1000</span> - b - c</div><div class="line">        <span class="keyword">if</span> left == right <span class="keyword">and</span> <span class="number">1000</span> - b - c &lt; b <span class="keyword">and</span> a &gt; <span class="number">0</span>:</div><div class="line">            print(a, b, c)</div></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 解法二</span></div><div class="line"><span class="keyword">for</span> m <span class="keyword">in</span> range(<span class="number">22</span>, <span class="number">0</span>, <span class="number">-1</span>):</div><div class="line">    <span class="keyword">if</span> <span class="number">500</span> % m == <span class="number">0</span>:</div><div class="line">        n = <span class="number">500</span> / m - m</div><div class="line">        a = m ** <span class="number">2</span> - n ** <span class="number">2</span></div><div class="line">        b = <span class="number">2</span> * m * n</div><div class="line">        c = m ** <span class="number">2</span> + n ** <span class="number">2</span></div><div class="line">        <span class="keyword">if</span> a &gt; <span class="number">0</span> <span class="keyword">and</span> b &gt; <span class="number">0</span> <span class="keyword">and</span> c &gt; <span class="number">0</span>:</div><div class="line">            print(a * b * c)</div></pre></td></tr></table></figure>
<h2 id="10-Summation-of-primes"><a href="#10-Summation-of-primes" class="headerlink" title="10.Summation of primes"></a>10.<a href="https://projecteuler.net/problem=10" target="_blank" rel="external">Summation of primes</a></h2><blockquote>
<p>The sum of the primes below 10 is 2 + 3 + 5 + 7 = 17.</p>
<p>Find the sum of all the primes below two million.</p>
</blockquote>
<p>分析：还是筛法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> math <span class="keyword">import</span> sqrt</div><div class="line"></div><div class="line">n = <span class="number">2000000</span></div><div class="line">p = [<span class="keyword">True</span>] * (n + <span class="number">1</span>)	<span class="comment"># 单元大小1bit的容器</span></div><div class="line">p[<span class="number">0</span>], p[<span class="number">1</span>] = <span class="keyword">False</span>, <span class="keyword">False</span></div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>, int(sqrt(n) + <span class="number">1</span>)):</div><div class="line">    <span class="keyword">if</span> <span class="keyword">not</span> p[i]:</div><div class="line">        <span class="keyword">continue</span></div><div class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(i * <span class="number">2</span>, n + <span class="number">1</span>, i):</div><div class="line">        p[j] = <span class="keyword">False</span></div><div class="line">primes = [x <span class="keyword">for</span> x <span class="keyword">in</span> range(n + <span class="number">1</span>) <span class="keyword">if</span> p[x]]</div><div class="line">print(sum(primes))</div></pre></td></tr></table></figure>
<h2 id="11-Largest-product-in-a-grid"><a href="#11-Largest-product-in-a-grid" class="headerlink" title="11.Largest product in a grid"></a>11.<a href="https://projecteuler.net/problem=11" target="_blank" rel="external">Largest product in a grid</a></h2><p><strong>分析：</strong>如果把每个数8个方向都计算一遍，会导致重复计算，只要计算一半的方向就行了。如下图所示：</p>
<p><img src="https://raw.githubusercontent.com/ppia/img/master/EulerProblem11-Example1.png" alt="EulerProblem11-Example1"><img src="https://raw.githubusercontent.com/ppia/img/master/EulerProblem11-Example2.png" alt="EulerProblem11-Example2"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line">grid = <span class="string">'''08 02 22 97 38 15 00 40 00 75 04 05 07 78 52 12 50 77 91 08</span></div><div class="line"><span class="string">49 49 99 40 17 81 18 57 60 87 17 40 98 43 69 48 04 56 62 00</span></div><div class="line"><span class="string">81 49 31 73 55 79 14 29 93 71 40 67 53 88 30 03 49 13 36 65</span></div><div class="line"><span class="string">52 70 95 23 04 60 11 42 69 24 68 56 01 32 56 71 37 02 36 91</span></div><div class="line"><span class="string">22 31 16 71 51 67 63 89 41 92 36 54 22 40 40 28 66 33 13 80</span></div><div class="line"><span class="string">24 47 32 60 99 03 45 02 44 75 33 53 78 36 84 20 35 17 12 50</span></div><div class="line"><span class="string">32 98 81 28 64 23 67 10 26 38 40 67 59 54 70 66 18 38 64 70</span></div><div class="line"><span class="string">67 26 20 68 02 62 12 20 95 63 94 39 63 08 40 91 66 49 94 21</span></div><div class="line"><span class="string">24 55 58 05 66 73 99 26 97 17 78 78 96 83 14 88 34 89 63 72</span></div><div class="line"><span class="string">21 36 23 09 75 00 76 44 20 45 35 14 00 61 33 97 34 31 33 95</span></div><div class="line"><span class="string">78 17 53 28 22 75 31 67 15 94 03 80 04 62 16 14 09 53 56 92</span></div><div class="line"><span class="string">16 39 05 42 96 35 31 47 55 58 88 24 00 17 54 24 36 29 85 57</span></div><div class="line"><span class="string">86 56 00 48 35 71 89 07 05 44 44 37 44 60 21 58 51 54 17 58</span></div><div class="line"><span class="string">19 80 81 68 05 94 47 69 28 73 92 13 86 52 17 77 04 89 55 40</span></div><div class="line"><span class="string">04 52 08 83 97 35 99 16 07 97 57 32 16 26 26 79 33 27 98 66</span></div><div class="line"><span class="string">88 36 68 87 57 62 20 72 03 46 33 67 46 55 12 32 63 93 53 69</span></div><div class="line"><span class="string">04 42 16 73 38 25 39 11 24 94 72 18 08 46 29 32 40 62 76 36</span></div><div class="line"><span class="string">20 69 36 41 72 30 23 88 34 62 99 69 82 67 59 85 74 04 36 16</span></div><div class="line"><span class="string">20 73 35 29 78 31 90 01 74 31 49 71 48 86 81 16 23 57 05 54</span></div><div class="line"><span class="string">01 70 54 71 83 51 54 69 16 92 33 48 61 43 52 01 89 19 67 48'''</span></div><div class="line"></div><div class="line"><span class="comment"># 按行分割</span></div><div class="line">grid = grid.strip().split(<span class="string">'\n'</span>)</div><div class="line"><span class="comment"># 注意这里map与python2区别</span></div><div class="line">grid = [list(map(int, x.strip().split(<span class="string">' '</span>))) <span class="keyword">for</span> x <span class="keyword">in</span> grid]</div><div class="line">rows, columns = <span class="number">20</span>, <span class="number">20</span></div><div class="line">greast = <span class="number">0</span></div><div class="line"><span class="keyword">for</span> r <span class="keyword">in</span> range(rows):</div><div class="line">    <span class="keyword">for</span> c <span class="keyword">in</span> range(columns):</div><div class="line">        <span class="comment"># 从左到右</span></div><div class="line">        <span class="keyword">if</span> c &lt; columns - <span class="number">3</span>:</div><div class="line">            greast = max([greast, grid[r][c] * grid[r][c + <span class="number">1</span>] * grid[r][c + <span class="number">2</span>] * grid[r][c + <span class="number">3</span>]])</div><div class="line">        <span class="keyword">if</span> r &lt; rows - <span class="number">3</span>:</div><div class="line">            <span class="comment"># 从上到下</span></div><div class="line">            greast = max([greast, grid[r][c] * grid[r + <span class="number">1</span>][c] * grid[r + <span class="number">2</span>][c] * grid[r + <span class="number">3</span>][c]])</div><div class="line">            <span class="comment"># 右下对角线</span></div><div class="line">            <span class="keyword">if</span> c &lt; columns - <span class="number">3</span>:</div><div class="line">                greast = max([greast, grid[r][c] * grid[r + <span class="number">1</span>][c + <span class="number">1</span>] * grid[r + <span class="number">2</span>][c + <span class="number">2</span>] * grid[r + <span class="number">3</span>][c + <span class="number">3</span>]])</div><div class="line">            <span class="comment"># 左下对角线</span></div><div class="line">            <span class="keyword">if</span> c &gt; <span class="number">3</span>:</div><div class="line">                greast = max([greast, grid[r][c] * grid[r + <span class="number">1</span>][c - <span class="number">1</span>] * grid[r + <span class="number">2</span>][c - <span class="number">2</span>] * grid[r + <span class="number">3</span>][c - <span class="number">3</span>]])</div><div class="line">print(greast)</div></pre></td></tr></table></figure>
<h2 id="12-Highly-divisible-triangular-number"><a href="#12-Highly-divisible-triangular-number" class="headerlink" title="12.Highly divisible triangular number"></a>12.<a href="https://projecteuler.net/problem=12" target="_blank" rel="external">Highly divisible triangular number</a></h2><p><strong>分析：</strong>将这个非零自然数分解质因数，相同的质因数写成幂指数的形式，就是所有质因数的幂指数都加1后，相乘的积，即为因数的个数。不过这里只要因数个数大于500，一个个试就行了//以后再改进</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> math <span class="keyword">import</span> sqrt</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">num_of_factors</span><span class="params">(triangle_number)</span>:</span></div><div class="line">    num = <span class="number">0</span></div><div class="line">    <span class="keyword">if</span> triangle_number == <span class="number">1</span>:</div><div class="line">        <span class="keyword">return</span> <span class="number">1</span></div><div class="line">    up_bound = int(sqrt(triangle_number)) + <span class="number">1</span></div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, up_bound):</div><div class="line">        <span class="keyword">if</span> triangle_number % i == <span class="number">0</span>:</div><div class="line">            num += <span class="number">1</span></div><div class="line">    <span class="keyword">return</span> (num * <span class="number">2</span>) - (<span class="number">1</span> <span class="keyword">if</span> ((up_bound - <span class="number">1</span>) ** <span class="number">2</span>) == triangle_number <span class="keyword">else</span> <span class="number">0</span>)</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">find</span><span class="params">()</span>:</span></div><div class="line">    k = <span class="number">7</span>  <span class="comment"># kth triangle number</span></div><div class="line">    <span class="keyword">while</span> <span class="keyword">True</span>:</div><div class="line">        triangle_number = k * (k + <span class="number">1</span>) // <span class="number">2</span></div><div class="line">        <span class="keyword">if</span> num_of_factors(triangle_number) &gt; <span class="number">500</span>:</div><div class="line">            <span class="keyword">return</span> triangle_number</div><div class="line">        k += <span class="number">1</span></div><div class="line"></div><div class="line"></div><div class="line">print(find())</div></pre></td></tr></table></figure>
<h2 id="13-Large-sum"><a href="#13-Large-sum" class="headerlink" title="13.Large sum"></a>13.<a href="https://projecteuler.net/problem=13" target="_blank" rel="external">Large sum</a></h2><p>分析：要计算的数字较大，可能要考虑变量溢出，不过python可以根据大小自动扩容。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div></pre></td><td class="code"><pre><div class="line">num_list = <span class="string">'''37107287533902102798797998220837590246510135740250</span></div><div class="line"><span class="string">46376937677490009712648124896970078050417018260538</span></div><div class="line"><span class="string">74324986199524741059474233309513058123726617309629</span></div><div class="line"><span class="string">91942213363574161572522430563301811072406154908250</span></div><div class="line"><span class="string">23067588207539346171171980310421047513778063246676</span></div><div class="line"><span class="string">89261670696623633820136378418383684178734361726757</span></div><div class="line"><span class="string">28112879812849979408065481931592621691275889832738</span></div><div class="line"><span class="string">44274228917432520321923589422876796487670272189318</span></div><div class="line"><span class="string">47451445736001306439091167216856844588711603153276</span></div><div class="line"><span class="string">70386486105843025439939619828917593665686757934951</span></div><div class="line"><span class="string">62176457141856560629502157223196586755079324193331</span></div><div class="line"><span class="string">64906352462741904929101432445813822663347944758178</span></div><div class="line"><span class="string">92575867718337217661963751590579239728245598838407</span></div><div class="line"><span class="string">58203565325359399008402633568948830189458628227828</span></div><div class="line"><span class="string">80181199384826282014278194139940567587151170094390</span></div><div class="line"><span class="string">35398664372827112653829987240784473053190104293586</span></div><div class="line"><span class="string">86515506006295864861532075273371959191420517255829</span></div><div class="line"><span class="string">71693888707715466499115593487603532921714970056938</span></div><div class="line"><span class="string">54370070576826684624621495650076471787294438377604</span></div><div class="line"><span class="string">53282654108756828443191190634694037855217779295145</span></div><div class="line"><span class="string">36123272525000296071075082563815656710885258350721</span></div><div class="line"><span class="string">45876576172410976447339110607218265236877223636045</span></div><div class="line"><span class="string">17423706905851860660448207621209813287860733969412</span></div><div class="line"><span class="string">81142660418086830619328460811191061556940512689692</span></div><div class="line"><span class="string">51934325451728388641918047049293215058642563049483</span></div><div class="line"><span class="string">62467221648435076201727918039944693004732956340691</span></div><div class="line"><span class="string">15732444386908125794514089057706229429197107928209</span></div><div class="line"><span class="string">55037687525678773091862540744969844508330393682126</span></div><div class="line"><span class="string">18336384825330154686196124348767681297534375946515</span></div><div class="line"><span class="string">80386287592878490201521685554828717201219257766954</span></div><div class="line"><span class="string">78182833757993103614740356856449095527097864797581</span></div><div class="line"><span class="string">16726320100436897842553539920931837441497806860984</span></div><div class="line"><span class="string">48403098129077791799088218795327364475675590848030</span></div><div class="line"><span class="string">87086987551392711854517078544161852424320693150332</span></div><div class="line"><span class="string">59959406895756536782107074926966537676326235447210</span></div><div class="line"><span class="string">69793950679652694742597709739166693763042633987085</span></div><div class="line"><span class="string">41052684708299085211399427365734116182760315001271</span></div><div class="line"><span class="string">65378607361501080857009149939512557028198746004375</span></div><div class="line"><span class="string">35829035317434717326932123578154982629742552737307</span></div><div class="line"><span class="string">94953759765105305946966067683156574377167401875275</span></div><div class="line"><span class="string">88902802571733229619176668713819931811048770190271</span></div><div class="line"><span class="string">25267680276078003013678680992525463401061632866526</span></div><div class="line"><span class="string">36270218540497705585629946580636237993140746255962</span></div><div class="line"><span class="string">24074486908231174977792365466257246923322810917141</span></div><div class="line"><span class="string">91430288197103288597806669760892938638285025333403</span></div><div class="line"><span class="string">34413065578016127815921815005561868836468420090470</span></div><div class="line"><span class="string">23053081172816430487623791969842487255036638784583</span></div><div class="line"><span class="string">11487696932154902810424020138335124462181441773470</span></div><div class="line"><span class="string">63783299490636259666498587618221225225512486764533</span></div><div class="line"><span class="string">67720186971698544312419572409913959008952310058822</span></div><div class="line"><span class="string">95548255300263520781532296796249481641953868218774</span></div><div class="line"><span class="string">76085327132285723110424803456124867697064507995236</span></div><div class="line"><span class="string">37774242535411291684276865538926205024910326572967</span></div><div class="line"><span class="string">23701913275725675285653248258265463092207058596522</span></div><div class="line"><span class="string">29798860272258331913126375147341994889534765745501</span></div><div class="line"><span class="string">18495701454879288984856827726077713721403798879715</span></div><div class="line"><span class="string">38298203783031473527721580348144513491373226651381</span></div><div class="line"><span class="string">34829543829199918180278916522431027392251122869539</span></div><div class="line"><span class="string">40957953066405232632538044100059654939159879593635</span></div><div class="line"><span class="string">29746152185502371307642255121183693803580388584903</span></div><div class="line"><span class="string">41698116222072977186158236678424689157993532961922</span></div><div class="line"><span class="string">62467957194401269043877107275048102390895523597457</span></div><div class="line"><span class="string">23189706772547915061505504953922979530901129967519</span></div><div class="line"><span class="string">86188088225875314529584099251203829009407770775672</span></div><div class="line"><span class="string">11306739708304724483816533873502340845647058077308</span></div><div class="line"><span class="string">82959174767140363198008187129011875491310547126581</span></div><div class="line"><span class="string">97623331044818386269515456334926366572897563400500</span></div><div class="line"><span class="string">42846280183517070527831839425882145521227251250327</span></div><div class="line"><span class="string">55121603546981200581762165212827652751691296897789</span></div><div class="line"><span class="string">32238195734329339946437501907836945765883352399886</span></div><div class="line"><span class="string">75506164965184775180738168837861091527357929701337</span></div><div class="line"><span class="string">62177842752192623401942399639168044983993173312731</span></div><div class="line"><span class="string">32924185707147349566916674687634660915035914677504</span></div><div class="line"><span class="string">99518671430235219628894890102423325116913619626622</span></div><div class="line"><span class="string">73267460800591547471830798392868535206946944540724</span></div><div class="line"><span class="string">76841822524674417161514036427982273348055556214818</span></div><div class="line"><span class="string">97142617910342598647204516893989422179826088076852</span></div><div class="line"><span class="string">87783646182799346313767754307809363333018982642090</span></div><div class="line"><span class="string">10848802521674670883215120185883543223812876952786</span></div><div class="line"><span class="string">71329612474782464538636993009049310363619763878039</span></div><div class="line"><span class="string">62184073572399794223406235393808339651327408011116</span></div><div class="line"><span class="string">66627891981488087797941876876144230030984490851411</span></div><div class="line"><span class="string">60661826293682836764744779239180335110989069790714</span></div><div class="line"><span class="string">85786944089552990653640447425576083659976645795096</span></div><div class="line"><span class="string">66024396409905389607120198219976047599490197230297</span></div><div class="line"><span class="string">64913982680032973156037120041377903785566085089252</span></div><div class="line"><span class="string">16730939319872750275468906903707539413042652315011</span></div><div class="line"><span class="string">94809377245048795150954100921645863754710598436791</span></div><div class="line"><span class="string">78639167021187492431995700641917969777599028300699</span></div><div class="line"><span class="string">15368713711936614952811305876380278410754449733078</span></div><div class="line"><span class="string">40789923115535562561142322423255033685442488917353</span></div><div class="line"><span class="string">44889911501440648020369068063960672322193204149535</span></div><div class="line"><span class="string">41503128880339536053299340368006977710650566631954</span></div><div class="line"><span class="string">81234880673210146739058568557934581403627822703280</span></div><div class="line"><span class="string">82616570773948327592232845941706525094512325230608</span></div><div class="line"><span class="string">22918802058777319719839450180888072429661980811197</span></div><div class="line"><span class="string">77158542502016545090413245809786882778948721859617</span></div><div class="line"><span class="string">72107838435069186155435662884062257473692284509516</span></div><div class="line"><span class="string">20849603980134001723930671666823555245252804609722</span></div><div class="line"><span class="string">53503534226472524250874054075591789781264330331690'''</span></div><div class="line"></div><div class="line">num_list = num_list.strip().split(<span class="string">'\n'</span>)</div><div class="line">sum = <span class="number">0</span></div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">100</span>):</div><div class="line">    sum += int(num_list[i])</div><div class="line">print(str(sum)[:<span class="number">10</span>])</div></pre></td></tr></table></figure>
<h2 id="14-Longest-Collatz-sequence"><a href="#14-Longest-Collatz-sequence" class="headerlink" title="14.Longest Collatz sequence"></a>14.<a href="https://projecteuler.net/problem=14" target="_blank" rel="external">Longest Collatz sequence</a></h2><p><strong>分析：</strong>从1计算到100万，直接算大概50几秒，每次算完将计算结果缓存可以减少到4秒。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">next</span><span class="params">(n)</span>:</span></div><div class="line">    <span class="keyword">if</span> n % <span class="number">2</span>:</div><div class="line">        <span class="keyword">return</span> <span class="number">3</span> * n + <span class="number">1</span></div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        <span class="keyword">return</span> n / <span class="number">2</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ChainCache</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line">        self.cache = &#123;&#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__call__</span><span class="params">(self, n)</span>:</span></div><div class="line">        <span class="keyword">if</span> n == <span class="number">1</span>:</div><div class="line">            <span class="keyword">return</span> <span class="number">1</span></div><div class="line">        <span class="keyword">elif</span> n <span class="keyword">in</span> self.cache:</div><div class="line">            <span class="keyword">return</span> self.cache[n]</div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            c = self.__call__(next(n))  <span class="comment"># 递归</span></div><div class="line">            self.cache[n] = c + <span class="number">1</span></div><div class="line">            <span class="keyword">return</span> c + <span class="number">1</span></div><div class="line"></div><div class="line"></div><div class="line">length = ChainCache()</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">max_len</span><span class="params">(x)</span>:</span></div><div class="line">    v, m = <span class="number">0</span>, <span class="number">0</span></div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, x):</div><div class="line">        l = length(i)</div><div class="line">        <span class="keyword">if</span> l &gt; m:</div><div class="line">            v, m = i, l</div><div class="line">    <span class="keyword">return</span> v</div><div class="line"></div><div class="line"></div><div class="line">print(max_len(<span class="number">1000000</span>))</div></pre></td></tr></table></figure>
<h2 id="15-Lattice-paths"><a href="#15-Lattice-paths" class="headerlink" title="15.Lattice paths"></a>15.<a href="https://projecteuler.net/problem=15" target="_blank" rel="external">Lattice paths</a></h2><blockquote>
<p>Starting in the top left corner of a 2×2 grid, and only being able to move to the right and down, there are exactly 6 routes to the bottom right corner.</p>
<p><img src="https://projecteuler.net/project/images/p015.gif" alt=""></p>
<p>How many such routes are there through a 20×20 grid?</p>
</blockquote>
<p><strong>分析：</strong><a href="https://en.wikipedia.org/wiki/Lattice_path" target="_blank" rel="external">维基</a>上证明好了，(0, 0)-&gt;(n, k) 的路径数目等于组合C(n+k, n)</p>
<blockquote>
<p>ps. c(n,k)=<img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/539d59f4fcd74c9db089d7ed0063f7ae3e7237b0" alt=""></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> math <span class="keyword">import</span> factorial</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">c</span><span class="params">(n, k)</span>:</span></div><div class="line">    <span class="keyword">return</span> factorial(n) / (factorial(k) * factorial(n - k))</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">lattice_paths</span><span class="params">(x, y)</span>:</span></div><div class="line">    <span class="keyword">return</span> c(x + y, x)</div><div class="line"></div><div class="line"></div><div class="line">print(lattice_paths(<span class="number">20</span>, <span class="number">20</span>))</div></pre></td></tr></table></figure>
<h2 id="16-Power-digit-sum"><a href="#16-Power-digit-sum" class="headerlink" title="16.Power digit sum"></a>16.<a href="https://projecteuler.net/problem=16" target="_blank" rel="external">Power digit sum</a></h2><blockquote>
<p>2<sup>15</sup> = 32768 and the sum of its digits is 3 + 2 + 7 + 6 + 8 = 26.</p>
<p>What is the sum of the digits of the number 2<sup>1000</sup>?</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">print</span> sum([int(x) <span class="keyword">for</span> x <span class="keyword">in</span> str(<span class="number">2</span>**<span class="number">1000</span>)])</div></pre></td></tr></table></figure>
<h2 id="17-Number-letter-counts"><a href="#17-Number-letter-counts" class="headerlink" title="17.Number letter counts"></a>17.<a href="https://projecteuler.net/problem=17" target="_blank" rel="external">Number letter counts</a></h2><blockquote>
<p>If the numbers 1 to 5 are written out in words: one, two, three, four, five, then there are 3 + 3 + 5 + 4 + 4 = 19 letters used in total.</p>
<p>If all the numbers from 1 to 1000 (one thousand) inclusive were written out in words, how many letters would be used?</p>
<p><strong>NOTE</strong>: Do not count spaces or hyphens. For example, 342 (three hundred and forty-two) contains 23 letters and 115 (one hundred and fifteen) contains 20 letters. The use of “and” when writing out numbers is in compliance with British usage.</p>
</blockquote>
<p><strong>分析：</strong>预先把几个特殊的位置长度算好，再根据数字判断。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">S = [<span class="number">0</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">8</span>]  <span class="comment"># 0~19</span></div><div class="line">D = [<span class="number">0</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">6</span>]  <span class="comment"># 0, 10~90</span></div><div class="line">H = <span class="number">7</span>  <span class="comment"># 'hundred'</span></div><div class="line">T = <span class="number">8</span>  <span class="comment"># 'thousand'</span></div><div class="line">count = <span class="number">0</span></div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">1000</span>):</div><div class="line">    c = i % <span class="number">10</span>  <span class="comment"># 个位</span></div><div class="line">    b = (i % <span class="number">100</span> - c) // <span class="number">10</span>  <span class="comment"># 十位</span></div><div class="line">    a = (i % <span class="number">1000</span> - <span class="number">10</span> * b - c) // <span class="number">100</span>  <span class="comment"># 百位</span></div><div class="line"></div><div class="line">    <span class="keyword">if</span> a != <span class="number">0</span>:</div><div class="line">        count += S[a] + H</div><div class="line">        <span class="keyword">if</span> b != <span class="number">0</span> <span class="keyword">or</span> c != <span class="number">0</span>:</div><div class="line">            count += <span class="number">3</span>  <span class="comment"># 'and'</span></div><div class="line">    <span class="keyword">if</span> b == <span class="number">0</span> <span class="keyword">or</span> b == <span class="number">1</span>:</div><div class="line">        count += S[<span class="number">10</span> * b + c]</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        count += D[b] + S[c]</div><div class="line"></div><div class="line">count += S[<span class="number">1</span>] + T  <span class="comment"># 1000</span></div><div class="line">print(count)</div></pre></td></tr></table></figure>
<h2 id="18-Maximum-path-sum-I"><a href="#18-Maximum-path-sum-I" class="headerlink" title="18.Maximum path sum I"></a>18.<a href="https://projecteuler.net/problem=18" target="_blank" rel="external">Maximum path sum I</a></h2><p><strong>分析：</strong>动态规划问题，可以从底向上分解问题，依次求出最大路径，即：</p>
<p>max(8 + 2; 5 + 2) = 10; max(5 + 4; 9 + 4) = 13; max(9 + 6; 3 + 6) = 15</p>
<p>将最后两行合并成一行：10 13 15 ，依次类推</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">triangle = <span class="string">"""75</span></div><div class="line"><span class="string">95 64</span></div><div class="line"><span class="string">17 47 82</span></div><div class="line"><span class="string">18 35 87 10</span></div><div class="line"><span class="string">20 04 82 47 65</span></div><div class="line"><span class="string">19 01 23 75 03 34</span></div><div class="line"><span class="string">88 02 77 73 07 63 67</span></div><div class="line"><span class="string">99 65 04 28 06 16 70 92</span></div><div class="line"><span class="string">41 41 26 56 83 40 80 70 33</span></div><div class="line"><span class="string">41 48 72 33 47 32 37 16 94 29</span></div><div class="line"><span class="string">53 71 44 65 25 43 91 52 97 51 14</span></div><div class="line"><span class="string">70 11 33 28 77 73 17 78 39 68 17 57</span></div><div class="line"><span class="string">91 71 52 38 17 14 91 43 58 50 27 29 48</span></div><div class="line"><span class="string">63 66 04 68 89 53 67 30 73 16 69 87 40 31</span></div><div class="line"><span class="string">04 62 98 27 23 09 70 98 73 93 38 53 60 04 23"""</span></div><div class="line">triangle = [list(map(int, item.split())) <span class="keyword">for</span> item <span class="keyword">in</span> triangle.split(<span class="string">'\n'</span>)]</div><div class="line"><span class="keyword">for</span> row <span class="keyword">in</span> range(len(triangle) - <span class="number">1</span>, <span class="number">0</span>, <span class="number">-1</span>):</div><div class="line">    <span class="keyword">for</span> col <span class="keyword">in</span> range(<span class="number">0</span>, row):</div><div class="line">        triangle[row - <span class="number">1</span>][col] += max(triangle[row][col], triangle[row][col + <span class="number">1</span>])</div><div class="line"></div><div class="line">print(triangle[<span class="number">0</span>][<span class="number">0</span>])</div></pre></td></tr></table></figure>
<h2 id="19-Counting-Sundays"><a href="#19-Counting-Sundays" class="headerlink" title="19.Counting Sundays"></a>19.<a href="https://projecteuler.net/problem=19" target="_blank" rel="external">Counting Sundays</a></h2><p><strong>分析：</strong>用datetime模块很简单</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> datetime</div><div class="line"></div><div class="line">start_time = datetime.datetime(<span class="number">1901</span>, <span class="number">1</span>, <span class="number">1</span>)</div><div class="line">end_time = datetime.datetime(<span class="number">2000</span>, <span class="number">12</span>, <span class="number">31</span>)</div><div class="line">interval = datetime.timedelta(days=<span class="number">1</span>)</div><div class="line">count = <span class="number">0</span></div><div class="line"><span class="keyword">while</span> start_time &lt; end_time:</div><div class="line">    <span class="keyword">if</span> start_time.day == <span class="number">1</span> <span class="keyword">and</span> start_time.isoweekday() == <span class="number">7</span>:</div><div class="line">        count += <span class="number">1</span></div><div class="line">    start_time += interval</div><div class="line"></div><div class="line">print(count)</div></pre></td></tr></table></figure>
<h2 id="20-Factorial-digit-sum"><a href="#20-Factorial-digit-sum" class="headerlink" title="20.Factorial digit sum"></a>20.<a href="https://projecteuler.net/problem=20" target="_blank" rel="external">Factorial digit sum</a></h2><blockquote>
<p>Find the sum of the digits in the number 100!</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> math <span class="keyword">import</span> factorial</div><div class="line"></div><div class="line">result = factorial(<span class="number">100</span>)</div><div class="line">print(sum([int(x) <span class="keyword">for</span> x <span class="keyword">in</span> str(result)]))</div></pre></td></tr></table></figure>
<h2 id="21-Amicable-numbers"><a href="#21-Amicable-numbers" class="headerlink" title="21.Amicable numbers"></a>21.<a href="https://projecteuler.net/problem=21" target="_blank" rel="external">Amicable numbers</a></h2><blockquote>
<p>Let d(n) be defined as the sum of proper divisors of n (numbers less than n which divide evenly into n).<br>If d(a) = b and d(b) = a, where a ≠ b, then a and b are an amicable pair and each of a and b are called amicable numbers.</p>
<p>For example, the proper divisors of 220 are 1, 2, 4, 5, 10, 11, 20, 22, 44, 55 and 110; therefore d(220) = 284. The proper divisors of 284 are 1, 2, 4, 71 and 142; so d(284) = 220.</p>
<p>Evaluate the sum of all the amicable numbers under 10000.</p>
</blockquote>
<p><strong>分析：</strong>用了缓存</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 0.17s user 0.01s system 95% cpu 0.187 total</span></div><div class="line"><span class="keyword">from</span> math <span class="keyword">import</span> sqrt</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">d</span><span class="params">(n)</span>:</span></div><div class="line">    divs = []</div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, int(sqrt(n)) + <span class="number">1</span>):</div><div class="line">        <span class="keyword">if</span> n % i == <span class="number">0</span>:</div><div class="line">            divs.append(i)</div><div class="line">            divs.append(n / i)</div><div class="line">    <span class="keyword">return</span> sum(divs) - n</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cache</span>:</span></div><div class="line">    <span class="string">"""cache for d(n)"""</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line">        self.cache = &#123;&#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__call__</span><span class="params">(self, n)</span>:</span></div><div class="line">        <span class="keyword">if</span> n == <span class="number">1</span>:</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span></div><div class="line">        <span class="keyword">elif</span> n <span class="keyword">in</span> self.cache:</div><div class="line">            <span class="keyword">return</span> self.cache[n]</div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            c = d(n)</div><div class="line">            self.cache[n] = c</div><div class="line">            <span class="keyword">return</span> c</div><div class="line"></div><div class="line"></div><div class="line">D = Cache()</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">num_under</span><span class="params">(n)</span>:</span></div><div class="line">    amicable = []</div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, n):</div><div class="line">        r = D(i)</div><div class="line">        <span class="keyword">if</span> D(r) == i <span class="keyword">and</span> r != i:</div><div class="line">            amicable.append(i)</div><div class="line">    <span class="keyword">return</span> amicable</div><div class="line"></div><div class="line"></div><div class="line">print(sum(num_under(<span class="number">10000</span>)))</div></pre></td></tr></table></figure>
<h2 id="22-Names-scores"><a href="#22-Names-scores" class="headerlink" title="22.Names scores"></a>22.<a href="https://projecteuler.net/problem=22" target="_blank" rel="external">Names scores</a></h2><blockquote>
<p>Using names.txt (right click and ‘Save Link/Target As…’), a 46K text file containing over five-thousand first names, begin by sorting it into alphabetical order. Then working out the alphabetical value for each name, multiply this value by its alphabetical position in the list to obtain a name score.</p>
<p>For example, when the list is sorted into alphabetical order, COLIN, which is worth 3 + 15 + 12 + 9 + 14 = 53, is the 938th name in the list. So, COLIN would obtain a score of 938 × 53 = 49714.</p>
<p>What is the total of all the name scores in the file?</p>
</blockquote>
<p><strong>分析：</strong>用<a href="https://docs.python.org/3/library/functions.html#enumerate" target="_blank" rel="external">enumerate</a>函数算出名字的次序</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">char_num_dict = &#123;<span class="string">"A"</span>: <span class="number">1</span>, <span class="string">"B"</span>: <span class="number">2</span>, <span class="string">"C"</span>: <span class="number">3</span>, <span class="string">"D"</span>: <span class="number">4</span>, <span class="string">"E"</span>: <span class="number">5</span>, <span class="string">"F"</span>: <span class="number">6</span>, <span class="string">"G"</span>: <span class="number">7</span>, <span class="string">"H"</span>: <span class="number">8</span>, <span class="string">"I"</span>: <span class="number">9</span>, <span class="string">"J"</span>: <span class="number">10</span>, <span class="string">"K"</span>: <span class="number">11</span>, <span class="string">"L"</span>: <span class="number">12</span>,</div><div class="line">                 <span class="string">"M"</span>: <span class="number">13</span>, <span class="string">"N"</span>: <span class="number">14</span>, <span class="string">"O"</span>: <span class="number">15</span>, <span class="string">"P"</span>: <span class="number">16</span>, <span class="string">"Q"</span>: <span class="number">17</span>, <span class="string">"R"</span>: <span class="number">18</span>, <span class="string">"S"</span>: <span class="number">19</span>, <span class="string">"T"</span>: <span class="number">20</span>, <span class="string">"U"</span>: <span class="number">21</span>, <span class="string">"V"</span>: <span class="number">22</span>, <span class="string">"W"</span>: <span class="number">23</span>,</div><div class="line">                 <span class="string">"X"</span>: <span class="number">24</span>, <span class="string">"Y"</span>: <span class="number">25</span>, <span class="string">"Z"</span>: <span class="number">26</span>&#125;</div><div class="line">sum = <span class="number">0</span></div><div class="line"><span class="keyword">with</span> open(<span class="string">'names.txt'</span>, <span class="string">'r'</span>) <span class="keyword">as</span> f:</div><div class="line">    data = sorted(f.read().replace(<span class="string">'"'</span>, <span class="string">''</span>).split(<span class="string">','</span>))</div><div class="line"></div><div class="line"><span class="keyword">for</span> ind, val <span class="keyword">in</span> enumerate(data):</div><div class="line">    temp = <span class="number">0</span></div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> val:</div><div class="line">        temp += char_num_dict[i]</div><div class="line">    sum += temp * (ind + <span class="number">1</span>)</div><div class="line"></div><div class="line">print(sum)</div></pre></td></tr></table></figure>
<h2 id="23-Non-abundant-sums"><a href="#23-Non-abundant-sums" class="headerlink" title="23.Non-abundant sums"></a>23.<a href="https://projecteuler.net/problem=23" target="_blank" rel="external">Non-abundant sums</a></h2><blockquote>
<p>A perfect number is a number for which the sum of its proper divisors is exactly equal to the number. For example, the sum of the proper divisors of 28 would be 1 + 2 + 4 + 7 + 14 = 28, which means that 28 is a perfect number.</p>
<p>A number n is called deficient if the sum of its proper divisors is less than n and it is called abundant if this sum exceeds n.</p>
<p>As 12 is the smallest abundant number, 1 + 2 + 3 + 4 + 6 = 16, the smallest number that can be written as the sum of two abundant numbers is 24. By mathematical analysis, it can be shown that all integers greater than 28123 can be written as the sum of two abundant numbers. However, this upper limit cannot be reduced any further by analysis even though it is known that the greatest number that cannot be expressed as the sum of two abundant numbers is less than this limit.</p>
<p>Find the sum of all the positive integers which cannot be written as the sum of two abundant numbers.</p>
</blockquote>
<p><strong>分析：</strong>先求出28123内abundant numbers，再两两相加，注意去除重复部分</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> math <span class="keyword">import</span> sqrt</div><div class="line"><span class="keyword">import</span> time</div><div class="line"></div><div class="line">tic = time.time()</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">abundants</span><span class="params">(n)</span>:</span></div><div class="line">    res = []</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sum_of_divs</span><span class="params">(i)</span>:</span></div><div class="line">        divs = [<span class="number">1</span>]</div><div class="line">        <span class="keyword">for</span> d <span class="keyword">in</span> range(<span class="number">2</span>, int(sqrt(i)) + <span class="number">1</span>):</div><div class="line">            <span class="keyword">if</span> i % d == <span class="number">0</span>:</div><div class="line">                divs.extend([d, i / d])</div><div class="line">        <span class="keyword">return</span> sum(list(set(divs)))</div><div class="line"></div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, n):</div><div class="line">        <span class="keyword">if</span> sum_of_divs(i) &gt; i:</div><div class="line">            res.append(i)</div><div class="line">    <span class="keyword">return</span> res</div><div class="line"></div><div class="line"></div><div class="line">up_bound = <span class="number">28123</span></div><div class="line">ab = abundants(up_bound)</div><div class="line">ab_sum = list(set([x + y <span class="keyword">for</span> x <span class="keyword">in</span> ab <span class="keyword">for</span> y <span class="keyword">in</span> ab <span class="keyword">if</span> (x + y) &lt; up_bound]))</div><div class="line"></div><div class="line">print(sum(range(up_bound)) - sum(ab_sum))</div><div class="line">print(time.time() - tic)</div></pre></td></tr></table></figure>
      
    </div>
    
    
    

    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>坚持原创技术分享，您的支持将鼓励我继续创作！</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>赏</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/wechatpay.png" alt="pia WeChat Pay"/>
        <p>WeChat Pay</p>
      </div>
    

    
      <div id="alipay" style="display: inline-block">
        <img id="alipay_qr" src="/images/alipay.png" alt="pia Alipay"/>
        <p>Alipay</p>
      </div>
    

    

  </div>
</div>

      </div>
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/python/" rel="tag"># python</a>
          
            <a href="/tags/projectEuler/" rel="tag"># projectEuler</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/09/16/Python-datetime模块/" rel="next" title="Python datetime模块">
                <i class="fa fa-chevron-left"></i> Python datetime模块
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="pia" />
          <p class="site-author-name" itemprop="name">pia</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
            
              <a href="/archives/">
            
                <span class="site-state-item-count">12</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">2</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/pia" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                    
                      GitHub
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/iced_fish" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                    
                      Twitter
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="mailto:i@tech.cx" target="_blank" title="Email">
                  
                    <i class="fa fa-fw fa-envelope"></i>
                  
                    
                      Email
                    
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-Mutiples-of-3-and-5"><span class="nav-number">1.</span> <span class="nav-text">1.Mutiples of 3 and 5</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-Even-Fibonacci-numbers"><span class="nav-number">2.</span> <span class="nav-text">2.Even Fibonacci numbers</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-Largest-prime-factor"><span class="nav-number">3.</span> <span class="nav-text">3.Largest prime factor</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-Largest-palindrome-product"><span class="nav-number">4.</span> <span class="nav-text">4.Largest palindrome product</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-Smallest-multiple"><span class="nav-number">5.</span> <span class="nav-text">5.Smallest multiple</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-Sum-square-difference"><span class="nav-number">6.</span> <span class="nav-text">6.Sum square difference</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-10001st-prime"><span class="nav-number">7.</span> <span class="nav-text">7.10001st prime</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-Largest-product-in-a-series"><span class="nav-number">8.</span> <span class="nav-text">8.Largest product in a series</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-Special-Pythagorean-triplet"><span class="nav-number">9.</span> <span class="nav-text">9.Special Pythagorean triplet</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10-Summation-of-primes"><span class="nav-number">10.</span> <span class="nav-text">10.Summation of primes</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-Largest-product-in-a-grid"><span class="nav-number">11.</span> <span class="nav-text">11.Largest product in a grid</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-Highly-divisible-triangular-number"><span class="nav-number">12.</span> <span class="nav-text">12.Highly divisible triangular number</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-Large-sum"><span class="nav-number">13.</span> <span class="nav-text">13.Large sum</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#14-Longest-Collatz-sequence"><span class="nav-number">14.</span> <span class="nav-text">14.Longest Collatz sequence</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#15-Lattice-paths"><span class="nav-number">15.</span> <span class="nav-text">15.Lattice paths</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#16-Power-digit-sum"><span class="nav-number">16.</span> <span class="nav-text">16.Power digit sum</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#17-Number-letter-counts"><span class="nav-number">17.</span> <span class="nav-text">17.Number letter counts</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#18-Maximum-path-sum-I"><span class="nav-number">18.</span> <span class="nav-text">18.Maximum path sum I</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#19-Counting-Sundays"><span class="nav-number">19.</span> <span class="nav-text">19.Counting Sundays</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#20-Factorial-digit-sum"><span class="nav-number">20.</span> <span class="nav-text">20.Factorial digit sum</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#21-Amicable-numbers"><span class="nav-number">21.</span> <span class="nav-text">21.Amicable numbers</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#22-Names-scores"><span class="nav-number">22.</span> <span class="nav-text">22.Names scores</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#23-Non-abundant-sums"><span class="nav-number">23.</span> <span class="nav-text">23.Non-abundant sums</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">pia</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动</div>

  <span class="post-meta-divider">|</span>

  <div class="theme-info">主题 &mdash; <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.2</div>


<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">博客全站共9.0k字</span>
</div>

        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  

  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>


  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  








  





  

  

  

  

  

  

</body>
</html>
